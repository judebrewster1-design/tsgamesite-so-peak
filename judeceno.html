<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Judeceno - Premium Casino</title>
<style>
:root {
Â  --bg: #0f212e;
Â  --panel: #1a2c38;
Â  --accent: #00e701;
Â  --secondary: #2f4553;
Â  --text: #b1bad3;
Â  --text-bright: #ffffff;
Â  --border: #2f4553;
Â  --danger: #ff4747;
Â  --warning: #ffc93c;
}

* {
Â  box-sizing: border-box;
Â  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
Â  margin: 0;
Â  padding: 0;
}

body {
Â  background: var(--bg);
Â  color: var(--text);
Â  overflow-x: hidden;
Â  min-height: 100vh;
}

/* Main Menu Styles */
.main-menu {
Â  display: flex;
Â  flex-direction: column;
Â  justify-content: center;
Â  align-items: center;
Â  min-height: 100vh;
Â  background: linear-gradient(135deg, var(--bg) 0%, var(--panel) 50%, var(--bg) 100%);
Â  position: relative;
}

.main-menu::before {
Â  content: '';
Â  position: absolute;
Â  top: 0;
Â  left: 0;
Â  right: 0;
Â  bottom: 0;
Â  background:
Â  Â  radial-gradient(circle at 20% 30%, rgba(0, 231, 1, 0.1) 0%, transparent 50%),
Â  Â  radial-gradient(circle at 80% 70%, rgba(0, 231, 1, 0.1) 0%, transparent 50%);
Â  pointer-events: none;
}

.logo {
Â  font-size: 72px;
Â  font-weight: 900;
Â  color: var(--accent);
Â  text-shadow: 0 0 40px var(--accent);
Â  margin-bottom: 20px;
Â  letter-spacing: -2px;
Â  animation: glow 2s ease-in-out infinite alternate;
}

@keyframes glow {
Â  from { text-shadow: 0 0 40px var(--accent); }
Â  to { text-shadow: 0 0 60px var(--accent), 0 0 80px var(--accent); }
}

.subtitle {
Â  font-size: 24px;
Â  color: var(--text);
Â  margin-bottom: 50px;
Â  text-align: center;
}

.menu-buttons {
Â  display: flex;
Â  flex-direction: column;
Â  gap: 20px;
Â  align-items: center;
}

.menu-btn {
Â  padding: 20px 60px;
Â  background: linear-gradient(45deg, var(--accent), #00ff00);
Â  border: none;
Â  border-radius: 12px;
Â  color: var(--bg);
Â  font-size: 18px;
Â  font-weight: 700;
Â  cursor: pointer;
Â  transition: all 0.3s ease;
Â  text-transform: uppercase;
Â  letter-spacing: 1px;
Â  min-width: 280px;
}

.menu-btn:hover {
Â  transform: translateY(-5px);
Â  box-shadow: 0 10px 30px rgba(0, 231, 1, 0.5);
Â  background: linear-gradient(45deg, #00ff00, var(--accent));
}

.balance-display {
Â  position: absolute;
Â  top: 30px;
Â  right: 30px;
Â  padding: 15px 25px;
Â  background: var(--panel);
Â  border: 2px solid var(--accent);
Â  border-radius: 10px;
Â  font-size: 18px;
Â  font-weight: 700;
Â  color: var(--text-bright);
Â  box-shadow: 0 0 20px rgba(0, 231, 1, 0.2);
}

/* Casino App Styles */
.app {
Â  max-width: 1400px;
Â  margin: 0 auto;
Â  padding: 20px;
Â  display: none;
}

.header {
Â  display: flex;
Â  justify-content: space-between;
Â  align-items: center;
Â  padding: 20px;
Â  background: var(--panel);
Â  border-radius: 12px;
Â  border: 1px solid var(--border);
Â  margin-bottom: 20px;
Â  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.brand {
Â  font-weight: 900;
Â  font-size: 28px;
Â  color: var(--accent);
Â  text-shadow: 0 0 20px var(--accent);
Â  letter-spacing: -1px;
}

.balance {
Â  padding: 12px 20px;
Â  background: var(--bg);
Â  border: 2px solid var(--accent);
Â  border-radius: 8px;
Â  font-weight: 700;
Â  font-size: 16px;
Â  color: var(--text-bright);
Â  box-shadow: 0 0 15px rgba(0, 231, 1, 0.2);
}

.btn {
Â  padding: 12px 24px;
Â  border-radius: 8px;
Â  border: none;
Â  background: var(--accent);
Â  color: var(--bg);
Â  cursor: pointer;
Â  font-weight: 700;
Â  font-size: 14px;
Â  transition: all 0.2s ease;
Â  text-transform: uppercase;
Â  user-select: none;
}

.btn:hover {
Â  background: #00ff00;
Â  box-shadow: 0 0 20px var(--accent);
Â  transform: translateY(-2px);
}

.btn:active {
Â  transform: translateY(0);
}

.btn-secondary {
Â  background: var(--secondary);
Â  color: var(--text-bright);
}

.btn-secondary:hover {
Â  background: #4a6570;
Â  box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
}

.grid {
Â  display: grid;
Â  grid-template-columns: 1fr 400px;
Â  gap: 20px;
}

.panel {
Â  background: var(--panel);
Â  padding: 24px;
Â  border-radius: 12px;
Â  border: 1px solid var(--border);
Â  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.game-selector {
Â  display: grid;
Â  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
Â  gap: 12px;
Â  margin-bottom: 20px;
}

.game-item {
Â  padding: 16px;
Â  background: var(--secondary);
Â  border-radius: 8px;
Â  cursor: pointer;
Â  font-weight: 600;
Â  text-align: center;
Â  transition: all 0.2s ease;
Â  border: 2px solid transparent;
Â  user-select: none;
}

.game-item:hover {
Â  background: var(--accent);
Â  color: var(--bg);
Â  border-color: var(--accent);
Â  box-shadow: 0 0 20px rgba(0, 231, 1, 0.3);
Â  transform: translateY(-2px);
}

.game-item.active {
Â  background: var(--accent);
Â  color: var(--bg);
Â  border-color: var(--accent);
Â  box-shadow: 0 0 20px rgba(0, 231, 1, 0.5);
}

.bet-controls {
Â  display: flex;
Â  gap: 12px;
Â  align-items: center;
Â  margin-bottom: 20px;
Â  padding: 16px;
Â  background: var(--bg);
Â  border-radius: 8px;
Â  border: 1px solid var(--border);
}

.bet-input {
Â  padding: 12px;
Â  border-radius: 6px;
Â  border: 2px solid var(--border);
Â  background: var(--secondary);
Â  color: var(--text-bright);
Â  font-weight: 600;
Â  width: 120px;
}

.bet-input:focus {
Â  border-color: var(--accent);
Â  outline: none;
Â  box-shadow: 0 0 10px rgba(0, 231, 1, 0.2);
}

.game-area {
Â  background: var(--bg);
Â  border-radius: 12px;
Â  min-height: 400px;
Â  padding: 20px;
Â  position: relative;
Â  overflow: hidden;
Â  border: 2px solid var(--border);
}

/* Plinko Styles */
.plinko-board {
Â  width: 100%;
Â  height: 500px;
Â  position: relative;
Â  background: linear-gradient(180deg, var(--panel) 0%, var(--bg) 100%);
Â  border-radius: 12px;
Â  overflow: hidden;
Â  border: 2px solid var(--accent);
}

.peg {
Â  position: absolute;
Â  width: 8px;
Â  height: 8px;
Â  background: var(--accent);
Â  border-radius: 50%;
Â  box-shadow: 0 0 10px var(--accent);
}

.ball {
Â  position: absolute;
Â  width: 20px;
Â  height: 20px;
Â  background-image: url('https://i.imgur.com/bWz2K7o.png'); /* A gold coin/ball image */
Â  background-size: cover;
Â  background-position: center;
Â  border-radius: 50%;
Â  box-shadow: 0 0 15px var(--accent);
Â  transition: none;
Â  z-index: 10;
}

.bucket {
Â  position: absolute;
Â  bottom: 0;
Â  width: 60px;
Â  height: 40px;
Â  background: var(--secondary);
Â  border: 2px solid var(--accent);
Â  border-radius: 8px 8px 0 0;
Â  display: flex;
Â  align-items: center;
Â  justify-content: center;
Â  font-weight: 700;
Â  color: var(--text-bright);
Â  font-size: 12px;
}

/* Mines Styles */
.mines-grid {
Â  display: grid;
Â  grid-template-columns: repeat(5, 1fr);
Â  gap: 8px;
Â  max-width: 400px;
Â  margin: 0 auto;
}

.mine-cell {
Â  aspect-ratio: 1;
Â  background: var(--secondary);
Â  border: 2px solid var(--border);
Â  border-radius: 8px;
Â  cursor: pointer;
Â  display: flex;
Â  align-items: center;
Â  justify-content: center;
Â  font-size: 20px;
Â  font-weight: 700;
Â  transition: all 0.2s ease;
Â  position: relative;
Â  overflow: hidden;
Â  user-select: none;
}

.mine-cell:hover {
Â  background: var(--accent);
Â  color: var(--bg);
Â  transform: scale(1.05);
Â  box-shadow: 0 0 15px rgba(0, 231, 1, 0.3);
}

.mine-cell.revealed {
Â  cursor: not-allowed;
}

.mine-cell.safe {
Â  background: var(--accent);
Â  color: var(--bg);
Â  background-image: url('https://i.imgur.com/GjT5K8S.png'); /* Diamond/Gem image */
Â  background-size: 70%;
Â  background-position: center;
Â  background-repeat: no-repeat;
}

.mine-cell.mine {
Â  background: var(--danger);
Â  color: var(--text-bright);
Â  background-image: url('https://i.imgur.com/L1d4gR1.png'); /* Bomb/Mine image */
Â  background-size: 70%;
Â  background-position: center;
Â  background-repeat: no-repeat;
}

/* Card Styles */
.card-container {
Â  perspective: 1000px;
Â  transition: transform 0.6s;
Â  transform-style: preserve-3d;
Â  width: 80px;
Â  height: 112px;
}

.card {
Â  width: 100%;
Â  height: 100%;
Â  position: relative;
Â  transform-style: preserve-3d;
Â  transition: transform 0.6s;
Â  cursor: pointer;
}

.card.flipped {
Â  transform: rotateY(180deg);
}

.card-face {
Â  position: absolute;
Â  width: 100%;
Â  height: 100%;
Â  backface-visibility: hidden;
Â  border-radius: 8px;
Â  border: 2px solid var(--border);
Â  display: flex;
Â  align-items: center;
Â  justify-content: center;
Â  font-weight: 700;
Â  overflow: hidden;
}

.card-back {
Â  background: #c2c2c2;
Â  background-image: url('https://i.imgur.com/i8o8e2X.png'); /* New card back design */
Â  background-size: 100% 100%;
Â  background-position: center;
Â  background-repeat: no-repeat;
}

.card-front {
Â  background: var(--text-bright);
Â  transform: rotateY(180deg);
}

.card-front img {
Â  width: 90%;
Â  height: 90%;
Â  object-fit: contain;
}

.card-row {
Â  display: flex;
Â  gap: 8px;
Â  align-items: center;
Â  margin: 10px 0;
}

/* Log Styles */
.log-container {
Â  height: 400px;
Â  overflow-y: auto;
Â  padding: 16px;
Â  background: var(--bg);
Â  border-radius: 8px;
Â  border: 1px solid var(--border);
}

.log-entry {
Â  padding: 8px 12px;
Â  margin-bottom: 4px;
Â  border-radius: 6px;
Â  font-size: 13px;
Â  background: var(--secondary);
Â  border-left: 3px solid var(--accent);
}

.log-entry.win {
Â  border-left-color: var(--accent);
Â  background: rgba(0, 231, 1, 0.1);
}

.log-entry.lose {
Â  border-left-color: var(--danger);
Â  background: rgba(255, 71, 71, 0.1);
}

/* Win Animation */
.win-overlay {
Â  position: fixed;
Â  top: 0;
Â  left: 0;
Â  width: 100vw;
Â  height: 100vh;
Â  background: rgba(0, 0, 0, 0.8);
Â  display: flex;
Â  align-items: center;
Â  justify-content: center;
Â  z-index: 1000;
Â  opacity: 0;
Â  pointer-events: none;
Â  transition: opacity 0.3s ease;
}

.win-overlay.show {
Â  opacity: 1;
}

.win-content {
Â  text-align: center;
Â  color: var(--text-bright);
}

.win-image {
Â  width: 200px;
Â  height: 200px;
Â  background-image: url('https://i.imgur.com/m2iC6jK.png'); /* New big win confetti image */
Â  background-size: contain;
Â  background-position: center;
Â  background-repeat: no-repeat;
Â  margin: 0 auto 20px;
Â  animation: winPulse 1s ease-in-out infinite alternate;
}

@keyframes winPulse {
Â  from { transform: scale(1); }
Â  to { transform: scale(1.1); }
}

.win-text {
Â  font-size: 48px;
Â  font-weight: 900;
Â  color: var(--accent);
Â  text-shadow: 0 0 20px var(--accent);
Â  margin-bottom: 20px;
}

/* Responsive */
@media (max-width: 768px) {
Â  .grid {
Â  Â  grid-template-columns: 1fr;
Â  }
Â 
Â  .game-selector {
Â  Â  grid-template-columns: repeat(2, 1fr);
Â  }
Â 
Â  .logo {
Â  Â  font-size: 48px;
Â  }
Â 
Â  .menu-btn {
Â  Â  min-width: 240px;
Â  Â  padding: 16px 40px;
Â  }
}
</style>
</head>
<body>

<div class="main-menu" id="mainMenu">
Â  <div class="balance-display">Balance: $<span id="menuBalance">10000</span></div>
Â 
Â  <div class="logo">JUDECENO</div>
Â  <div class="subtitle">Premium Online Casino Experience</div>
Â 
Â  <div class="menu-buttons">
Â  Â  <button class="menu-btn" onclick="startCasino()">ğŸ® Enter Casino</button>
Â  Â  <button class="menu-btn" onclick="showStats()">ğŸ“Š Statistics</button>
Â  Â  <button class="menu-btn" onclick="resetAccount()">ğŸ”„ Reset Account</button>
Â  </div>
</div>

<div class="app" id="casinoApp">
Â  <div class="header">
Â  Â  <div class="brand">JUDECENO</div>
Â  Â  <div class="balance">Balance: $<span id="balance">10000</span></div>
Â  Â  <button class="btn btn-secondary" onclick="backToMenu()">â† Main Menu</button>
Â  </div>
Â 
Â  <div class="grid">
Â  Â  <div class="panel">
Â  Â  Â  <div class="game-selector">
Â  Â  Â  Â  <div class="game-item active" data-game="plinko">ğŸ¯ Plinko</div>
Â  Â  Â  Â  <div class="game-item" data-game="mines">ğŸ’£ Mines</div>
Â  Â  Â  Â  <div class="game-item" data-game="blackjack">ğŸƒ Blackjack</div>
Â  Â  Â  Â  <div class="game-item" data-game="poker">â™ ï¸ Poker</div>
Â  Â  Â  </div>
Â 
Â  Â  Â  <div class="bet-controls">
Â  Â  Â  Â  <label style="color: var(--text);">Bet Amount:</label>
Â  Â  Â  Â  <input type="number" id="betInput" class="bet-input" value="100" min="1" max="10000">
Â  Â  Â  Â  <button class="btn" onclick="halveBet()">Â½</button>
Â  Â  Â  Â  <button class="btn" onclick="doubleBet()">2x</button>
Â  Â  Â  Â  <button class="btn" onclick="maxBet()">Max</button>
Â  Â  Â  </div>
Â 
Â  Â  Â  <div class="game-area" id="gameArea">
Â  Â  Â  Â  <div style="text-align: center; padding: 40px;">
Â  Â  Â  Â  Â  <h3 style="color: var(--text-bright); margin-bottom: 10px;">Welcome to Judeceno!</h3>
Â  Â  Â  Â  Â  <p style="color: var(--text);">Select a game above to start playing</p>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </div>
Â 
Â  Â  <div class="panel">
Â  Â  Â  <h3 style="color: var(--text-bright); margin-bottom: 16px;">Game Log</h3>
Â  Â  Â  <div class="log-container" id="gameLog"></div>
Â  Â  </div>
Â  </div>
</div>

<div class="win-overlay" id="winOverlay">
Â  <div class="win-content">
Â  Â  <div class="win-image"></div>
Â  Â  <div class="win-text">BIG WIN!</div>
Â  Â  <div style="font-size: 24px; color: var(--accent);" id="winAmount">+$0</div>
Â  </div>
</div>

<script>
// Game State
let gameState = {
Â  balance: 10000,
Â  currentGame: 'plinko',
Â  gameInProgress: false,
Â  minesData: null,
Â  blackjackData: null,
Â  pokerData: null,
};

// DOM Elements
const mainMenu = document.getElementById('mainMenu');
const casinoApp = document.getElementById('casinoApp');
const balanceEl = document.getElementById('balance');
const menuBalanceEl = document.getElementById('menuBalance');
const gameArea = document.getElementById('gameArea');
const gameLog = document.getElementById('gameLog');
const betInput = document.getElementById('betInput');
const winOverlay = document.getElementById('winOverlay');
const winAmount = document.getElementById('winAmount');
const gameSelectorItems = document.querySelectorAll('.game-item');

// Navigation Functions
function startCasino() {
Â  mainMenu.style.display = 'none';
Â  casinoApp.style.display = 'block';
Â  updateBalance();
Â  loadGame('plinko');
Â  logGame('Welcome to Judeceno Casino!');
}

function backToMenu() {
Â  mainMenu.style.display = 'flex';
Â  casinoApp.style.display = 'none';
Â  updateBalance();
}

function showStats() {
Â  alert('Statistics feature coming soon!');
}

function resetAccount() {
Â  if (confirm('Reset your account balance to $10,000?')) {
Â  Â  gameState.balance = 10000;
Â  Â  updateBalance();
Â  Â  logGame('Account reset to $10,000');
Â  }
}

// Utility Functions
function updateBalance() {
Â  const formatted = gameState.balance.toLocaleString();
Â  if (balanceEl) balanceEl.textContent = formatted;
Â  if (menuBalanceEl) menuBalanceEl.textContent = formatted;
}

function logGame(message, type = 'normal') {
Â  const entry = document.createElement('div');
Â  entry.className = `log-entry ${type}`;
Â  entry.innerHTML = `<span style="color: var(--text);">${new Date().toLocaleTimeString()}</span> - ${message}`;
Â  gameLog.insertBefore(entry, gameLog.firstChild);
}

function showWin(amount) {
Â  winAmount.textContent = `+$${amount.toLocaleString()}`;
Â  winOverlay.classList.add('show');
Â  setTimeout(() => {
Â  Â  winOverlay.classList.remove('show');
Â  }, 2000);
}

function getBetAmount() {
Â  const bet = parseInt(betInput.value) || 0;
Â  if (bet <= 0 || bet > gameState.balance) {
Â  Â  logGame('Invalid bet amount or insufficient balance.', 'lose');
Â  Â  return 0;
Â  }
Â  return bet;
}

// Bet Controls
window.halveBet = function() {
Â  betInput.value = Math.max(1, Math.floor(parseInt(betInput.value || 100) / 2));
};

window.doubleBet = function() {
Â  betInput.value = Math.min(gameState.balance, parseInt(betInput.value || 100) * 2);
};

window.maxBet = function() {
Â  betInput.value = gameState.balance;
};

// Game Selection
gameSelectorItems.forEach(item => {
Â  item.addEventListener('click', () => {
Â  Â  if (gameState.gameInProgress) {
Â  Â  Â  logGame('Cannot switch games while a game is in progress!', 'lose');
Â  Â  Â  return;
Â  Â  }
Â  Â  gameSelectorItems.forEach(i => i.classList.remove('active'));
Â  Â  item.classList.add('active');
Â  Â  gameState.currentGame = item.dataset.game;
Â  Â  loadGame(gameState.currentGame);
Â  });
});

// Main Game Loader
function loadGame(gameName) {
Â  gameState.gameInProgress = false;
Â  switch(gameName) {
Â  Â  case 'plinko':
Â  Â  Â  loadPlinko();
Â  Â  Â  break;
Â  Â  case 'mines':
Â  Â  Â  loadMines();
Â  Â  Â  break;
Â  Â  case 'blackjack':
Â  Â  Â  loadBlackjack();
Â  Â  Â  break;
Â  Â  case 'poker':
Â  Â  Â  loadPoker();
Â  Â  Â  break;
Â  }
}

// PLINKO GAME
function loadPlinko() {
Â  gameArea.innerHTML = `
Â  Â  <div class="plinko-board" id="plinkoBoard">
Â  Â  Â  <div style="text-align: center; padding: 20px;">
Â  Â  Â  Â  <button class="btn" onclick="dropPlinko()" style="font-size: 18px; padding: 16px 32px;">DROP BALL</button>
Â  Â  Â  </div>
Â  Â  </div>
Â  `;
Â 
Â  setTimeout(() => {
Â  Â  const board = document.getElementById('plinkoBoard');
Â  Â  if (!board) return;
Â 
Â  Â  const boardWidth = board.clientWidth;
Â 
Â  Â  // Create pegs
Â  Â  for (let row = 1; row < 12; row++) {
Â  Â  Â  const pegsInRow = row + 3;
Â  Â  Â  const spacing = boardWidth / (pegsInRow + 1);
Â 
Â  Â  Â  for (let col = 0; col < pegsInRow; col++) {
Â  Â  Â  Â  const peg = document.createElement('div');
Â  Â  Â  Â  peg.className = 'peg';
Â  Â  Â  Â  peg.style.left = `${spacing * (col + 1) - 4}px`;
Â  Â  Â  Â  peg.style.top = `${80 + row * 35}px`;
Â  Â  Â  Â  board.appendChild(peg);
Â  Â  Â  }
Â  Â  }
Â 
Â  Â  // Create buckets
Â  Â  const buckets = [0.5, 1.2, 2.0, 3.5, 10.0, 3.5, 2.0, 1.2, 0.5];
Â  Â  buckets.forEach((multiplier, index) => {
Â  Â  Â  const bucket = document.createElement('div');
Â  Â  Â  bucket.className = 'bucket';
Â  Â  Â  bucket.textContent = `${multiplier}x`;
Â  Â  Â  bucket.style.left = `${(boardWidth / buckets.length) * index + 10}px`;
Â  Â  Â  bucket.style.backgroundColor = multiplier >= 3.5 ? 'var(--accent)' : 'var(--secondary)';
Â  Â  Â  board.appendChild(bucket);
Â  Â  });
Â  }, 100);
}

window.dropPlinko = function() {
Â  if (gameState.gameInProgress) return;
Â 
Â  const bet = getBetAmount();
Â  if (!bet) return;
Â 
Â  gameState.gameInProgress = true;
Â  gameState.balance -= bet;
Â  updateBalance();
Â 
Â  const board = document.getElementById('plinkoBoard');
Â  const boardWidth = board.clientWidth;
Â 
Â  const ball = document.createElement('div');
Â  ball.className = 'ball';
Â  ball.style.left = `${boardWidth / 2 - 10}px`;
Â  ball.style.top = '50px';
Â  board.appendChild(ball);
Â 
Â  // Physics simulation
Â  let x = boardWidth / 2 - 10;
Â  let y = 50;
Â  let vx = 0;
Â  let vy = 0;
Â  const gravity = 0.3;
Â  const bounce = 0.7;
Â 
Â  function animate() {
Â  Â  vy += gravity;
Â  Â  x += vx;
Â  Â  y += vy;
Â 
Â  Â  // Check peg collisions
Â  Â  const pegs = document.querySelectorAll('.peg');
Â  Â  pegs.forEach(peg => {
Â  Â  Â  const pegX = parseFloat(peg.style.left) + 4;
Â  Â  Â  const pegY = parseFloat(peg.style.top) + 4;
Â  Â  Â  const distance = Math.sqrt((x - pegX) ** 2 + (y - pegY) ** 2);
Â 
Â  Â  Â  if (distance < 14) {
Â  Â  Â  Â  const angle = Math.atan2(y - pegY, x - pegX);
Â  Â  Â  Â  vx = Math.cos(angle) * 3 + (Math.random() - 0.5) * 2;
Â  Â  Â  Â  vy = Math.abs(vy) * bounce;
Â  Â  Â  Â  x = pegX + Math.cos(angle) * 14;
Â  Â  Â  Â  y = pegY + Math.sin(angle) * 14;
Â  Â  Â  }
Â  Â  });
Â 
Â  Â  // Boundaries
Â  Â  if (x < 10) { x = 10; vx = Math.abs(vx) * bounce; }
Â  Â  if (x > boardWidth - 30) { x = boardWidth - 30; vx = -Math.abs(vx) * bounce; }
Â 
Â  Â  ball.style.left = `${x}px`;
Â  Â  ball.style.top = `${y}px`;
Â 
Â  Â  if (y < 450) {
Â  Â  Â  requestAnimationFrame(animate);
Â  Â  } else {
Â  Â  Â  // Determine bucket
Â  Â  Â  const bucketIndex = Math.floor((x - 10) / ((boardWidth - 40) / 9));
Â  Â  Â  const multipliers = [0.5, 1.2, 2.0, 3.5, 10.0, 3.5, 2.0, 1.2, 0.5];
Â  Â  Â  const multiplier = multipliers[Math.max(0, Math.min(8, bucketIndex))];
Â  Â  Â  const winAmount = Math.floor(bet * multiplier);
Â 
Â  Â  Â  gameState.balance += winAmount;
Â  Â  Â  updateBalance();
Â 
Â  Â  Â  if (winAmount > bet) {
Â  Â  Â  Â  logGame(`Plinko WIN! ${multiplier}x - Won $${winAmount - bet}`, 'win');
Â  Â  Â  Â  showWin(winAmount - bet);
Â  Â  Â  } else {
Â  Â  Â  Â  logGame(`Plinko LOSE - Lost $${bet - winAmount}`, 'lose');
Â  Â  Â  }
Â 
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  if (board && board.contains(ball)) {
Â  Â  Â  Â  Â  board.removeChild(ball);
Â  Â  Â  Â  }
Â  Â  Â  Â  gameState.gameInProgress = false;
Â  Â  Â  }, 1000);
Â  Â  }
Â  }
Â 
Â  animate();
};

// MINES GAME
function loadMines() {
Â  gameArea.innerHTML = `
Â  Â  <div style="text-align: center; margin-bottom: 20px;">
Â  Â  Â  <button class="btn" onclick="startMines()" style="margin-right: 10px;">NEW GAME</button>
Â  Â  Â  <button class="btn btn-secondary" onclick="cashoutMines()">CASH OUT</button>
Â  Â  </div>
Â  Â  <div class="mines-grid" id="minesGrid"></div>
Â  Â  <div style="text-align: center; margin-top: 20px; color: var(--text);">
Â  Â  Â  <div>Mines: 5 | Safe tiles: <span id="safeTiles">0</span> | Multiplier: <span id="multiplier">1.0</span>x</div>
Â  Â  </div>
Â  `;
Â 
Â  gameState.minesData = {
Â  Â  grid: [],
Â  Â  revealed: [],
Â  Â  gameActive: false,
Â  Â  bet: 0,
Â  Â  safeTiles: 0
Â  };
Â 
Â  createMinesGrid();
}

function createMinesGrid() {
Â  const grid = document.getElementById('minesGrid');
Â  if (!grid) return;
Â 
Â  grid.innerHTML = '';
Â 
Â  for (let i = 0; i < 25; i++) {
Â  Â  const cell = document.createElement('div');
Â  Â  cell.className = 'mine-cell';
Â  Â  cell.textContent = ''; // Hide the '?' for a cleaner look
Â  Â  cell.addEventListener('click', () => revealMine(i));
Â  Â  grid.appendChild(cell);
Â  }
}

window.startMines = function() {
Â  if (gameState.gameInProgress) return;
Â 
Â  const bet = getBetAmount();
Â  if (!bet) return;
Â 
Â  gameState.balance -= bet;
Â  updateBalance();
Â 
Â  // Generate mines
Â  const mines = [];
Â  while (mines.length < 5) {
Â  Â  const pos = Math.floor(Math.random() * 25);
Â  Â  if (!mines.includes(pos)) mines.push(pos);
Â  }
Â 
Â  gameState.minesData = {
Â  Â  grid: mines,
Â  Â  revealed: [],
Â  Â  gameActive: true,
Â  Â  bet: bet,
Â  Â  safeTiles: 0
Â  };
Â 
Â  createMinesGrid();
Â  logGame(`New mines game started - Bet $${bet}`);
Â 
Â  const safeTilesEl = document.getElementById('safeTiles');
Â  const multiplierEl = document.getElementById('multiplier');
Â  if (safeTilesEl) safeTilesEl.textContent = '0';
Â  if (multiplierEl) multiplierEl.textContent = '1.0';
};

function revealMine(index) {
Â  if (!gameState.minesData || !gameState.minesData.gameActive || gameState.minesData.revealed.includes(index)) return;
Â 
Â  const cell = document.querySelectorAll('.mine-cell')[index];
Â  gameState.minesData.revealed.push(index);
Â  cell.classList.add('revealed');
Â  cell.textContent = '';
Â 
Â  if (gameState.minesData.grid.includes(index)) {
Â  Â  // Hit mine
Â  Â  cell.classList.add('mine');
Â  Â  gameState.minesData.gameActive = false;
Â 
Â  Â  // Reveal all mines
Â  Â  gameState.minesData.grid.forEach(minePos => {
Â  Â  Â  const mineCell = document.querySelectorAll('.mine-cell')[minePos];
Â  Â  Â  mineCell.classList.add('mine', 'revealed');
Â  Â  });
Â 
Â  Â  logGame(`BOOM! Hit a mine - Lost $${gameState.minesData.bet}`, 'lose');
Â  } else {
Â  Â  // Safe tile
Â  Â  cell.classList.add('safe');
Â  Â  gameState.minesData.safeTiles++;
Â 
Â  Â  const multiplier = Math.pow(1.35, gameState.minesData.safeTiles);
Â  Â  const safeTilesEl = document.getElementById('safeTiles');
Â  Â  const multiplierEl = document.getElementById('multiplier');
Â 
Â  Â  if (safeTilesEl) safeTilesEl.textContent = gameState.minesData.safeTiles;
Â  Â  if (multiplierEl) multiplierEl.textContent = multiplier.toFixed(2);
Â 
Â  Â  logGame(`Safe tile! Multiplier: ${multiplier.toFixed(2)}x`);
Â  }
}

window.cashoutMines = function() {
Â  if (!gameState.minesData || !gameState.minesData.gameActive || gameState.minesData.safeTiles === 0) {
Â  Â  logGame('No active game to cash out.', 'lose');
Â  Â  return;
Â  }
Â 
Â  const multiplier = Math.pow(1.35, gameState.minesData.safeTiles);
Â  const winAmount = Math.floor(gameState.minesData.bet * multiplier);
Â 
Â  gameState.balance += winAmount;
Â  updateBalance();
Â  gameState.minesData.gameActive = false;
Â 
Â  logGame(`Cashed out! Won $${winAmount} (${multiplier.toFixed(2)}x)`, 'win');
Â  showWin(winAmount);
};

// BLACKJACK GAME
function loadBlackjack() {
Â  gameArea.innerHTML = `
Â  Â  <div style="margin-bottom: 20px;">
Â  Â  Â  <h4 style="color: var(--text-bright); margin-bottom: 10px;">Dealer's Hand</h4>
Â  Â  Â  <div class="card-row" id="dealerCards"></div>
Â  Â  Â  <div id="dealerScore" style="color: var(--text); margin-top: 5px;">Score: 0</div>
Â  Â  </div>
Â 
Â  Â  <div style="margin-bottom: 20px;">
Â  Â  Â  <h4 style="color: var(--text-bright); margin-bottom: 10px;">Your Hand</h4>
Â  Â  Â  <div class="card-row" id="playerCards"></div>
Â  Â  Â  <div id="playerScore" style="color: var(--text); margin-top: 5px;">Score: 0</div>
Â  Â  </div>
Â 
Â  Â  <div style="text-align: center;">
Â  Â  Â  <button class="btn" id="dealBtn" onclick="dealBlackjack()" style="margin-right: 10px;">DEAL</button>
Â  Â  Â  <button class="btn btn-secondary" id="hitBtn" onclick="hitBlackjack()" disabled>HIT</button>
Â  Â  Â  <button class="btn btn-secondary" id="standBtn" onclick="standBlackjack()" disabled>STAND</button>
Â  Â  </div>
Â  `;
}

const cardImages = {
Â  'A': { 'S': 'https://i.imgur.com/P8J3n3V.png', 'H': 'https://i.imgur.com/P8J3n3V.png', 'D': 'https://i.imgur.com/P8J3n3V.png', 'C': 'https://i.imgur.com/P8J3n3V.png' },
Â  'K': { 'S': 'https://i.imgur.com/P4Q1k1X.png', 'H': 'https://i.imgur.com/P4Q1k1X.png', 'D': 'https://i.imgur.com/P4Q1k1X.png', 'C': 'https://i.imgur.com/P4Q1k1X.png' },
Â  'Q': { 'S': 'https://i.imgur.com/N7r8L8g.png', 'H': 'https://i.imgur.com/N7r8L8g.png', 'D': 'https://i.imgur.com/N7r8L8g.png', 'C': 'https://i.imgur.com/N7r8L8g.png' },
Â  'J': { 'S': 'https://i.imgur.com/V9L2f4Q.png', 'H': 'https://i.imgur.com/V9L2f4Q.png', 'D': 'https://i.imgur.com/V9L2f4Q.png', 'C': 'https://i.imgur.com/V9L2f4Q.png' },
Â  '2': 'https://i.imgur.com/f2O8QjK.png', '3': 'https://i.imgur.com/b9C5h5Y.png', '4': 'https://i.imgur.com/T0k5e5E.png', '5': 'https://i.imgur.com/R3a3m6c.png',
Â  '6': 'https://i.imgur.com/Q2r2c4k.png', '7': 'https://i.imgur.com/Z8v8z8g.png', '8': 'https://i.imgur.com/F4v3k6j.png', '9': 'https://i.imgur.com/J7t6l9s.png', 'T': 'https://i.imgur.com/Q9y7u8a.png',
};

function getCardImageUrl(card) {
Â  const rank = card[0];
Â  const suit = card[1];
Â 
Â  if (['J', 'Q', 'K', 'A'].includes(rank)) {
Â  Â  return cardImages[rank][suit];
Â  } else {
Â  Â  return cardImages[rank];
Â  }
}

function createDeck() {
Â  const suits = ['S', 'H', 'D', 'C'];
Â  const ranks = ['2', '3', '4', '5', '6', '7', '8', '9', 'T', 'J', 'Q', 'K', 'A'];
Â  const deck = [];
Â  for (const suit of suits) {
Â  Â  for (const rank of ranks) {
Â  Â  Â  deck.push(rank + suit);
Â  Â  }
Â  }
Â  return deck.sort(() => Math.random() - 0.5);
}

function getCardValue(card) {
Â  const rank = card[0];
Â  if (['T', 'J', 'Q', 'K'].includes(rank)) return 10;
Â  if (rank === 'A') return 11;
Â  return parseInt(rank);
}

function calculateScore(hand) {
Â  let score = 0;
Â  let aces = 0;
Â  for (const card of hand) {
Â  Â  const value = getCardValue(card);
Â  Â  if (value === 11) aces++;
Â  Â  score += value;
Â  }
Â  while (score > 21 && aces > 0) {
Â  Â  score -= 10;
Â  Â  aces--;
Â  }
Â  return score;
}

function renderBlackjackCards(hideDealer = true) {
Â  const playerCardsEl = document.getElementById('playerCards');
Â  const dealerCardsEl = document.getElementById('dealerCards');
Â  const playerScoreEl = document.getElementById('playerScore');
Â  const dealerScoreEl = document.getElementById('dealerScore');
Â 
Â  playerCardsEl.innerHTML = '';
Â  dealerCardsEl.innerHTML = '';
Â 
Â  gameState.blackjackData.playerCards.forEach(card => {
Â  Â  const cardEl = document.createElement('div');
Â  Â  cardEl.className = 'card-container';
Â  Â  cardEl.innerHTML = `
Â  Â  Â  <div class="card flipped">
Â  Â  Â  Â  <div class="card-face card-back"></div>
Â  Â  Â  Â  <div class="card-face card-front"><img src="${getCardImageUrl(card)}"></div>
Â  Â  Â  </div>
Â  Â  `;
Â  Â  playerCardsEl.appendChild(cardEl);
Â  });
Â 
Â  gameState.blackjackData.dealerCards.forEach((card, index) => {
Â  Â  const cardEl = document.createElement('div');
Â  Â  cardEl.className = 'card-container';
Â  Â  if (hideDealer && index === 1) {
Â  Â  Â  cardEl.innerHTML = `<div class="card"><div class="card-face card-back"></div><div class="card-face card-front"></div></div>`;
Â  Â  } else {
Â  Â  Â  cardEl.innerHTML = `
Â  Â  Â  Â  <div class="card flipped">
Â  Â  Â  Â  Â  <div class="card-face card-back"></div>
Â  Â  Â  Â  Â  <div class="card-face card-front"><img src="${getCardImageUrl(card)}"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  `;
Â  Â  }
Â  Â  dealerCardsEl.appendChild(cardEl);
Â  });
Â 
Â  playerScoreEl.textContent = `Score: ${calculateScore(gameState.blackjackData.playerCards)}`;
Â  if (!hideDealer) {
Â  Â  dealerScoreEl.textContent = `Score: ${calculateScore(gameState.blackjackData.dealerCards)}`;
Â  } else {
Â  Â  dealerScoreEl.textContent = `Score: ?`;
Â  }
}

window.dealBlackjack = function() {
Â  if (gameState.gameInProgress) return;
Â 
Â  const bet = getBetAmount();
Â  if (!bet) return;
Â 
Â  gameState.gameInProgress = true;
Â  gameState.balance -= bet;
Â  updateBalance();
Â 
Â  gameState.blackjackData = {
Â  Â  deck: createDeck(),
Â  Â  playerCards: [],
Â  Â  dealerCards: [],
Â  Â  gameActive: true,
Â  Â  bet: bet
Â  };
Â 
Â  // Deal initial cards
Â  gameState.blackjackData.playerCards.push(gameState.blackjackData.deck.pop());
Â  gameState.blackjackData.dealerCards.push(gameState.blackjackData.deck.pop());
Â  gameState.blackjackData.playerCards.push(gameState.blackjackData.deck.pop());
Â  gameState.blackjackData.dealerCards.push(gameState.blackjackData.deck.pop());
Â 
Â  renderBlackjackCards();
Â 
Â  document.getElementById('dealBtn').disabled = true;
Â  document.getElementById('hitBtn').disabled = false;
Â  document.getElementById('standBtn').disabled = false;
Â 
Â  const playerScore = calculateScore(gameState.blackjackData.playerCards);
Â  if (playerScore === 21) {
Â  Â  logGame('Blackjack! You have 21.', 'win');
Â  Â  endBlackjack();
Â  } else {
Â  Â  logGame(`New blackjack hand dealt - Bet $${bet}`);
Â  }
};

window.hitBlackjack = function() {
Â  if (!gameState.blackjackData || !gameState.blackjackData.gameActive) return;
Â 
Â  gameState.blackjackData.playerCards.push(gameState.blackjackData.deck.pop());
Â  renderBlackjackCards();
Â 
Â  const playerScore = calculateScore(gameState.blackjackData.playerCards);
Â  if (playerScore > 21) {
Â  Â  logGame('Bust! Your score is over 21.', 'lose');
Â  Â  endBlackjack();
Â  }
};

window.standBlackjack = function() {
Â  if (!gameState.blackjackData || !gameState.blackjackData.gameActive) return;
Â 
Â  document.getElementById('hitBtn').disabled = true;
Â  document.getElementById('standBtn').disabled = true;
Â 
Â  // Dealer plays
Â  const dealerCards = document.querySelectorAll('#dealerCards .card-container');
Â  if (dealerCards.length > 1) {
Â  Â  dealerCards[1].querySelector('.card').classList.add('flipped');
Â  }
Â 
Â  function dealerTurn() {
Â  Â  const dealerScore = calculateScore(gameState.blackjackData.dealerCards);
Â  Â  document.getElementById('dealerScore').textContent = `Score: ${dealerScore}`;
Â 
Â  Â  if (dealerScore < 17) {
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  gameState.blackjackData.dealerCards.push(gameState.blackjackData.deck.pop());
Â  Â  Â  Â  renderBlackjackCards(false);
Â  Â  Â  Â  dealerTurn();
Â  Â  Â  }, 1000);
Â  Â  } else {
Â  Â  Â  endBlackjack();
Â  Â  }
Â  }
Â  dealerTurn();
};

function endBlackjack() {
Â  gameState.gameInProgress = false;
Â  gameState.blackjackData.gameActive = false;
Â 
Â  const playerScore = calculateScore(gameState.blackjackData.playerCards);
Â  const dealerScore = calculateScore(gameState.blackjackData.dealerCards);
Â  let winAmount = 0;
Â 
Â  if (playerScore > 21) {
Â  Â  winAmount = 0;
Â  } else if (dealerScore > 21 || playerScore > dealerScore) {
Â  Â  winAmount = gameState.blackjackData.bet * 2;
Â  Â  logGame(`You win! Your score ${playerScore} beats the dealer's ${dealerScore}.`, 'win');
Â  Â  showWin(gameState.blackjackData.bet);
Â  } else if (playerScore === dealerScore) {
Â  Â  winAmount = gameState.blackjackData.bet;
Â  Â  logGame('Push! It\'s a tie.', 'normal');
Â  } else {
Â  Â  winAmount = 0;
Â  Â  logGame(`You lose! Your score ${playerScore} is lower than the dealer's ${dealerScore}.`, 'lose');
Â  }
Â 
Â  gameState.balance += winAmount;
Â  updateBalance();
Â  renderBlackjackCards(false);
Â 
Â  document.getElementById('dealBtn').disabled = false;
Â  document.getElementById('hitBtn').disabled = true;
Â  document.getElementById('standBtn').disabled = true;
}

// POKER GAME
const pokerPayouts = {
Â  'Royal Flush': 250,
Â  'Straight Flush': 50,
Â  'Four of a Kind': 25,
Â  'Full House': 9,
Â  'Flush': 6,
Â  'Straight': 4,
Â  'Three of a Kind': 3,
Â  'Two Pair': 2,
Â  'Jacks or Better': 1,
Â  'None': 0,
};

function loadPoker() {
Â  gameArea.innerHTML = `
Â  Â  <div style="text-align: center; margin-bottom: 20px;">
Â  Â  Â  <button class="btn" id="dealPokerBtn" onclick="dealPoker()">DEAL</button>
Â  Â  Â  <button class="btn btn-secondary" id="drawPokerBtn" onclick="drawPoker()" disabled>DRAW</button>
Â  Â  </div>
Â  Â  <div class="card-row" id="pokerHand" style="justify-content: center;"></div>
Â  Â  <div id="pokerResult" style="margin-top: 20px; font-size: 20px; font-weight: bold; text-align: center; color: var(--text-bright);"></div>
Â  Â  <div style="margin-top: 20px; padding: 16px; background: var(--secondary); border-radius: 8px;">
Â  Â  Â  <h4 style="color: var(--text-bright); text-align: center;">Payout Table</h4>
Â  Â  Â  <div id="pokerPayoutTable"></div>
Â  Â  </div>
Â  `;
Â 
Â  const tableEl = document.getElementById('pokerPayoutTable');
Â  for (const [hand, multiplier] of Object.entries(pokerPayouts)) {
Â  Â  const row = document.createElement('div');
Â  Â  row.style = 'display: flex; justify-content: space-between; padding: 4px 0;';
Â  Â  row.innerHTML = `<span>${hand}</span><span>${multiplier}x</span>`;
Â  Â  tableEl.appendChild(row);
Â  }
}

window.dealPoker = function() {
Â  if (gameState.gameInProgress) return;
Â 
Â  const bet = getBetAmount();
Â  if (!bet) return;
Â 
Â  gameState.gameInProgress = true;
Â  gameState.balance -= bet;
Â  updateBalance();
Â 
Â  const deck = createDeck();
Â  gameState.pokerData = {
Â  Â  hand: deck.slice(0, 5),
Â  Â  held: [false, false, false, false, false],
Â  Â  deck: deck.slice(5),
Â  Â  gameActive: true,
Â  Â  bet: bet
Â  };
Â 
Â  renderPokerHand();
Â 
Â  document.getElementById('dealPokerBtn').disabled = true;
Â  document.getElementById('drawPokerBtn').disabled = false;
Â  logGame(`New poker hand dealt - Bet $${bet}`);
};

function toggleHold(index) {
Â  if (!gameState.pokerData.gameActive) return;
Â  gameState.pokerData.held[index] = !gameState.pokerData.held[index];
Â  renderPokerHand();
}

function renderPokerHand() {
Â  const pokerHandEl = document.getElementById('pokerHand');
Â  pokerHandEl.innerHTML = '';
Â 
Â  gameState.pokerData.hand.forEach((card, index) => {
Â  Â  const cardEl = document.createElement('div');
Â  Â  cardEl.className = 'card-container';
Â  Â  cardEl.style.cursor = 'pointer';
Â  Â  cardEl.onclick = () => toggleHold(index);
Â 
Â  Â  const heldStyle = gameState.pokerData.held[index] ? 'border: 2px solid var(--accent);' : '';
Â  Â  cardEl.innerHTML = `
Â  Â  Â  <div class="card flipped">
Â  Â  Â  Â  <div class="card-face card-back"></div>
Â  Â  Â  Â  <div class="card-face card-front" style="background-image: url(${getCardImageUrl(card)}); background-size: 100% 100%;"></div>
Â  Â  Â  </div>
Â  Â  Â  <div style="text-align: center; color: var(--text-bright); font-size: 12px; margin-top: 5px;">${gameState.pokerData.held[index] ? 'HELD' : ''}</div>
Â  Â  `;
Â  Â  pokerHandEl.appendChild(cardEl);
Â  });
}

window.drawPoker = function() {
Â  if (!gameState.pokerData || !gameState.pokerData.gameActive) return;
Â 
Â  const newHand = [];
Â  let deckIndex = 0;
Â 
Â  for (let i = 0; i < 5; i++) {
Â  Â  if (gameState.pokerData.held[i]) {
Â  Â  Â  newHand.push(gameState.pokerData.hand[i]);
Â  Â  } else {
Â  Â  Â  newHand.push(gameState.pokerData.deck[deckIndex++]);
Â  Â  }
Â  }
Â 
Â  gameState.pokerData.hand = newHand;
Â  gameState.pokerData.gameActive = false;
Â 
Â  renderPokerHand();
Â 
Â  // Evaluate hand
Â  const handValue = evaluatePokerHand(gameState.pokerData.hand);
Â  const winAmount = handValue.payout * gameState.pokerData.bet;
Â 
Â  gameState.balance += winAmount;
Â  updateBalance();
Â 
Â  const resultEl = document.getElementById('pokerResult');
Â  if (resultEl) {
Â  Â  resultEl.textContent = `${handValue.name} - ${winAmount > 0 ? `Won $${winAmount}` : 'No win'}`;
Â  }
Â 
Â  if (winAmount > 0) {
Â  Â  logGame(`Poker: ${handValue.name} - Won $${winAmount}`, 'win');
Â  Â  showWin(winAmount);
Â  } else {
Â  Â  logGame(`Poker: ${handValue.name} - No win`, 'lose');
Â  }
Â 
Â  document.getElementById('dealPokerBtn').disabled = false;
Â  document.getElementById('drawPokerBtn').disabled = true;
Â  gameState.gameInProgress = false;
};

function evaluatePokerHand(hand) {
Â  const ranks = hand.map(card => card[0]).sort();
Â  const suits = hand.map(card => card[1]);
Â 
Â  const counts = {};
Â  ranks.forEach(r => counts[r] = (counts[r] || 0) + 1);
Â  const uniqueRanks = Object.keys(counts).length;
Â  const hasPair = uniqueRanks < 5;
Â  const isFlush = new Set(suits).size === 1;
Â 
Â  const valueMap = { '2': 2, '3': 3, '4': 4, '5': 5, '6': 6, '7': 7, '8': 8, '9': 9, 'T': 10, 'J': 11, 'Q': 12, 'K': 13, 'A': 14 };
Â  const sortedValues = ranks.map(r => valueMap[r]).sort((a, b) => a - b);
Â 
Â  let isStraight = true;
Â  for (let i = 0; i < sortedValues.length - 1; i++) {
Â  Â  if (sortedValues[i] + 1 !== sortedValues[i+1]) {
Â  Â  Â  isStraight = false;
Â  Â  Â  break;
Â  Â  }
Â  }
Â  // Special case for A-2-3-4-5 straight
Â  if (sortedValues.join(',') === '2,3,4,5,14') {
Â  Â  isStraight = true;
Â  }
Â 
Â  const pairs = Object.values(counts).filter(c => c === 2).length;
Â  const threeOfAKind = Object.values(counts).includes(3);
Â  const fourOfAKind = Object.values(counts).includes(4);
Â  const jacksOrBetter = hasPair && ['J', 'Q', 'K', 'A'].some(r => counts[r] >= 2);
Â 
Â  if (isStraight && isFlush && sortedValues[0] === 10) return { name: 'Royal Flush', payout: pokerPayouts['Royal Flush'] };
Â  if (isStraight && isFlush) return { name: 'Straight Flush', payout: pokerPayouts['Straight Flush'] };
Â  if (fourOfAKind) return { name: 'Four of a Kind', payout: pokerPayouts['Four of a Kind'] };
Â  if (threeOfAKind && pairs === 1) return { name: 'Full House', payout: pokerPayouts['Full House'] };
Â  if (isFlush) return { name: 'Flush', payout: pokerPayouts['Flush'] };
Â  if (isStraight) return { name: 'Straight', payout: pokerPayouts['Straight'] };
Â  if (threeOfAKind) return { name: 'Three of a Kind', payout: pokerPayouts['Three of a Kind'] };
Â  if (pairs === 2) return { name: 'Two Pair', payout: pokerPayouts['Two Pair'] };
Â  if (jacksOrBetter) return { name: 'Jacks or Better', payout: pokerPayouts['Jacks or Better'] };
Â 
Â  return { name: 'None', payout: pokerPayouts['None'] };
}

</script>

</body>
</html>
