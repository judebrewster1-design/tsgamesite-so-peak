<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Judeceno - Premium Casino</title>
<style>
:root {
  --bg: #0f212e;
  --panel: #1a2c38;
  --accent: #00e701;
  --secondary: #2f4553;
  --text: #b1bad3;
  --text-bright: #ffffff;
  --border: #2f4553;
  --danger: #ff4747;
  --warning: #ffc93c;
}

* {
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  margin: 0;
  padding: 0;
}

body {
  background: var(--bg);
  color: var(--text);
  overflow-x: hidden;
  min-height: 100vh;
}

/* Main Menu Styles */
.main-menu {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: linear-gradient(135deg, var(--bg) 0%, var(--panel) 50%, var(--bg) 100%);
  position: relative;
}

.main-menu::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 20% 30%, rgba(0, 231, 1, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(0, 231, 1, 0.1) 0%, transparent 50%);
  pointer-events: none;
}

.logo {
  font-size: 72px;
  font-weight: 900;
  color: var(--accent);
  text-shadow: 0 0 40px var(--accent);
  margin-bottom: 20px;
  letter-spacing: -2px;
  animation: glow 2s ease-in-out infinite alternate;
}

@keyframes glow {
  from { text-shadow: 0 0 40px var(--accent); }
  to { text-shadow: 0 0 60px var(--accent), 0 0 80px var(--accent); }
}

.subtitle {
  font-size: 24px;
  color: var(--text);
  margin-bottom: 50px;
  text-align: center;
}

.menu-buttons {
  display: flex;
  flex-direction: column;
  gap: 20px;
  align-items: center;
}

.menu-btn {
  padding: 20px 60px;
  background: linear-gradient(45deg, var(--accent), #00ff00);
  border: none;
  border-radius: 12px;
  color: var(--bg);
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 1px;
  min-width: 280px;
}

.menu-btn:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 30px rgba(0, 231, 1, 0.5);
  background: linear-gradient(45deg, #00ff00, var(--accent));
}

.balance-display {
  position: absolute;
  top: 30px;
  right: 30px;
  padding: 15px 25px;
  background: var(--panel);
  border: 2px solid var(--accent);
  border-radius: 10px;
  font-size: 18px;
  font-weight: 700;
  color: var(--text-bright);
  box-shadow: 0 0 20px rgba(0, 231, 1, 0.2);
}

/* Casino App Styles */
.app {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
  display: none;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  background: var(--panel);
  border-radius: 12px;
  border: 1px solid var(--border);
  margin-bottom: 20px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.brand {
  font-weight: 900;
  font-size: 28px;
  color: var(--accent);
  text-shadow: 0 0 20px var(--accent);
  letter-spacing: -1px;
}

.balance {
  padding: 12px 20px;
  background: var(--bg);
  border: 2px solid var(--accent);
  border-radius: 8px;
  font-weight: 700;
  font-size: 16px;
  color: var(--text-bright);
  box-shadow: 0 0 15px rgba(0, 231, 1, 0.2);
}

.btn {
  padding: 12px 24px;
  border-radius: 8px;
  border: none;
  background: var(--accent);
  color: var(--bg);
  cursor: pointer;
  font-weight: 700;
  font-size: 14px;
  transition: all 0.2s ease;
  text-transform: uppercase;
  user-select: none;
}

.btn:hover {
  background: #00ff00;
  box-shadow: 0 0 20px var(--accent);
  transform: translateY(-2px);
}

.btn:active {
  transform: translateY(0);
}

.btn-secondary {
  background: var(--secondary);
  color: var(--text-bright);
}

.btn-secondary:hover {
  background: #4a6570;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
}

.grid {
  display: grid;
  grid-template-columns: 1fr 400px;
  gap: 20px;
}

.panel {
  background: var(--panel);
  padding: 24px;
  border-radius: 12px;
  border: 1px solid var(--border);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.game-selector {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
  margin-bottom: 20px;
}

.game-item {
  padding: 16px;
  background: var(--secondary);
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  text-align: center;
  transition: all 0.2s ease;
  border: 2px solid transparent;
  user-select: none;
}

.game-item:hover {
  background: var(--accent);
  color: var(--bg);
  border-color: var(--accent);
  box-shadow: 0 0 20px rgba(0, 231, 1, 0.3);
  transform: translateY(-2px);
}

.game-item.active {
  background: var(--accent);
  color: var(--bg);
  border-color: var(--accent);
  box-shadow: 0 0 20px rgba(0, 231, 1, 0.5);
}

.bet-controls {
  display: flex;
  gap: 12px;
  align-items: center;
  margin-bottom: 20px;
  padding: 16px;
  background: var(--bg);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.bet-input {
  padding: 12px;
  border-radius: 6px;
  border: 2px solid var(--border);
  background: var(--secondary);
  color: var(--text-bright);
  font-weight: 600;
  width: 120px;
}

.bet-input:focus {
  border-color: var(--accent);
  outline: none;
  box-shadow: 0 0 10px rgba(0, 231, 1, 0.2);
}

.game-area {
  background: var(--bg);
  border-radius: 12px;
  min-height: 400px;
  padding: 20px;
  position: relative;
  overflow: hidden;
  border: 2px solid var(--border);
}

/* Plinko Styles */
.plinko-board {
  width: 100%;
  height: 500px;
  position: relative;
  background: linear-gradient(180deg, var(--panel) 0%, var(--bg) 100%);
  border-radius: 12px;
  overflow: hidden;
  border: 2px solid var(--accent);
}

.peg {
  position: absolute;
  width: 8px;
  height: 8px;
  background: var(--accent);
  border-radius: 50%;
  box-shadow: 0 0 10px var(--accent);
}

.ball {
  position: absolute;
  width: 20px;
  height: 20px;
  background-image: url('plink.png');
  background-size: cover;
  background-position: center;
  border-radius: 50%;
  box-shadow: 0 0 15px var(--accent);
  transition: none;
  z-index: 10;
}

.bucket {
  position: absolute;
  bottom: 0;
  width: 60px;
  height: 40px;
  background: var(--secondary);
  border: 2px solid var(--accent);
  border-radius: 8px 8px 0 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: var(--text-bright);
  font-size: 12px;
}

/* Mines Styles */
.mines-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 8px;
  max-width: 400px;
  margin: 0 auto;
}

.mine-cell {
  aspect-ratio: 1;
  background: var(--secondary);
  border: 2px solid var(--border);
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  font-weight: 700;
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;
  user-select: none;
}

.mine-cell:hover {
  background: var(--accent);
  color: var(--bg);
  transform: scale(1.05);
  box-shadow: 0 0 15px rgba(0, 231, 1, 0.3);
}

.mine-cell.revealed {
  cursor: not-allowed;
  transform: scale(0.95);
}

.mine-cell.safe {
  background: var(--accent);
  color: var(--bg);
  background-image: url('jude.png');
  background-size: 70%;
  background-position: center;
  background-repeat: no-repeat;
}

.mine-cell.mine {
  background: var(--danger);
  color: var(--text-bright);
  background-image: url('minor.png');
  background-size: 70%;
  background-position: center;
  background-repeat: no-repeat;
}

/* Card Styles */
.card {
  width: 80px;
  height: 112px;
  border-radius: 8px;
  background: var(--text-bright);
  border: 2px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: var(--bg);
  position: relative;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s ease;
  margin: 4px;
  cursor: pointer;
  user-select: none;
}

.card:hover {
  transform: translateY(-4px);
}

.card img {
  width: 70%;
  height: 70%;
  object-fit: cover;
  border-radius: 4px;
}

.card-row {
  display: flex;
  gap: 8px;
  align-items: center;
  margin: 10px 0;
}

/* Log Styles */
.log-container {
  height: 400px;
  overflow-y: auto;
  padding: 16px;
  background: var(--bg);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.log-entry {
  padding: 8px 12px;
  margin-bottom: 4px;
  border-radius: 6px;
  font-size: 13px;
  background: var(--secondary);
  border-left: 3px solid var(--accent);
}

.log-entry.win {
  border-left-color: var(--accent);
  background: rgba(0, 231, 1, 0.1);
}

.log-entry.lose {
  border-left-color: var(--danger);
  background: rgba(255, 71, 71, 0.1);
}

/* Win Animation */
.win-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

.win-overlay.show {
  opacity: 1;
}

.win-content {
  text-align: center;
  color: var(--text-bright);
}

.win-image {
  width: 200px;
  height: 200px;
  background-image: url('money.png');
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  margin: 0 auto 20px;
  animation: winPulse 1s ease-in-out infinite alternate;
}

@keyframes winPulse {
  from { transform: scale(1); }
  to { transform: scale(1.1); }
}

.win-text {
  font-size: 48px;
  font-weight: 900;
  color: var(--accent);
  text-shadow: 0 0 20px var(--accent);
  margin-bottom: 20px;
}

/* Responsive */
@media (max-width: 768px) {
  .grid {
    grid-template-columns: 1fr;
  }
  
  .game-selector {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .logo {
    font-size: 48px;
  }
  
  .menu-btn {
    min-width: 240px;
    padding: 16px 40px;
  }
}
</style>
</head>
<body>

<!-- Main Menu -->
<div class="main-menu" id="mainMenu">
  <div class="balance-display">Balance: $<span id="menuBalance">10000</span></div>
  
  <div class="logo">JUDECENO</div>
  <div class="subtitle">Premium Online Casino Experience</div>
  
  <div class="menu-buttons">
    <button class="menu-btn" onclick="startCasino()">üéÆ Enter Casino</button>
    <button class="menu-btn" onclick="showStats()">üìä Statistics</button>
    <button class="menu-btn" onclick="resetAccount()">üîÑ Reset Account</button>
  </div>
</div>

<!-- Casino App -->
<div class="app" id="casinoApp">
  <div class="header">
    <div class="brand">JUDECENO</div>
    <div class="balance">Balance: $<span id="balance">10000</span></div>
    <button class="btn btn-secondary" onclick="backToMenu()">‚Üê Main Menu</button>
  </div>
  
  <div class="grid">
    <div class="panel">
      <div class="game-selector">
        <div class="game-item active" data-game="plinko">üéØ Plinko</div>
        <div class="game-item" data-game="mines">üí£ Mines</div>
        <div class="game-item" data-game="blackjack">üÉè Blackjack</div>
        <div class="game-item" data-game="roulette">üé∞ Roulette</div>
        <div class="game-item" data-game="poker">‚ô†Ô∏è Poker</div>
      </div>
      
      <div class="bet-controls">
        <label style="color: var(--text);">Bet Amount:</label>
        <input type="number" id="betInput" class="bet-input" value="100" min="1" max="10000">
        <button class="btn" onclick="halveBet()">¬Ω</button>
        <button class="btn" onclick="doubleBet()">2x</button>
        <button class="btn" onclick="maxBet()">Max</button>
      </div>
      
      <div class="game-area" id="gameArea">
        <div style="text-align: center; padding: 40px;">
          <h3 style="color: var(--text-bright); margin-bottom: 10px;">Welcome to Judeceno!</h3>
          <p style="color: var(--text);">Select a game above to start playing</p>
        </div>
      </div>
    </div>
    
    <div class="panel">
      <h3 style="color: var(--text-bright); margin-bottom: 16px;">Game Log</h3>
      <div class="log-container" id="gameLog"></div>
    </div>
  </div>
</div>

<div class="win-overlay" id="winOverlay">
  <div class="win-content">
    <div class="win-image"></div>
    <div class="win-text">BIG WIN!</div>
    <div style="font-size: 24px; color: var(--accent);" id="winAmount">+$0</div>
  </div>
</div>

<script>
// Game State
let gameState = {
  balance: 10000,
  currentGame: 'plinko',
  gameInProgress: false
};

// DOM Elements
const mainMenu = document.getElementById('mainMenu');
const casinoApp = document.getElementById('casinoApp');
const balanceEl = document.getElementById('balance');
const menuBalanceEl = document.getElementById('menuBalance');
const gameArea = document.getElementById('gameArea');
const gameLog = document.getElementById('gameLog');
const betInput = document.getElementById('betInput');
const winOverlay = document.getElementById('winOverlay');
const winAmount = document.getElementById('winAmount');

// Navigation Functions
function startCasino() {
  mainMenu.style.display = 'none';
  casinoApp.style.display = 'block';
  updateBalance();
  loadGame('plinko');
  logGame('Welcome to Judeceno Casino!');
}

function backToMenu() {
  mainMenu.style.display = 'flex';
  casinoApp.style.display = 'none';
  updateBalance();
}

function showStats() {
  alert('Statistics feature coming soon!');
}

function resetAccount() {
  if (confirm('Reset your account balance to $10,000?')) {
    gameState.balance = 10000;
    updateBalance();
    logGame('Account reset to $10,000');
  }
}

// Utility Functions
function updateBalance() {
  const formatted = gameState.balance.toLocaleString();
  if (balanceEl) balanceEl.textContent = formatted;
  if (menuBalanceEl) menuBalanceEl.textContent = formatted;
}

function logGame(message, type = 'normal') {
  const entry = document.createElement('div');
  entry.className = `log-entry ${type}`;
  entry.innerHTML = `<span style="color: var(--text);">${new Date().toLocaleTimeString()}</span> - ${message}`;
  gameLog.insertBefore(entry, gameLog.firstChild);
}

function showWin(amount) {
  winAmount.textContent = `+$${amount}`;
  winOverlay.classList.add('show');
  setTimeout(() => {
    winOverlay.classList.remove('show');
  }, 2000);
}

function getBetAmount() {
  const bet = parseInt(betInput.value) || 0;
  if (bet <= 0 || bet > gameState.balance) {
    logGame('Invalid bet amount', 'lose');
    return 0;
  }
  return bet;
}

// Bet Controls - Make globally accessible
window.halveBet = function() {
  betInput.value = Math.max(1, Math.floor(parseInt(betInput.value || 100) / 2));
};

window.doubleBet = function() {
  betInput.value = Math.min(gameState.balance, parseInt(betInput.value || 100) * 2);
};

window.maxBet = function() {
  betInput.value = gameState.balance;
};

// Game Functions - Make globally accessible
window.dropPlinko = function() {
  if (gameState.gameInProgress) return;
  
  const bet = getBetAmount();
  if (!bet) return;
  
  gameState.gameInProgress = true;
  gameState.balance -= bet;
  updateBalance();
  
  const board = document.getElementById('plinkoBoard');
  const boardWidth = board.clientWidth;
  
  const ball = document.createElement('div');
  ball.className = 'ball';
  ball.style.left = `${boardWidth / 2 - 10}px`;
  ball.style.top = '50px';
  board.appendChild(ball);
  
  // Physics simulation
  let x = boardWidth / 2 - 10;
  let y = 50;
  let vx = 0;
  let vy = 0;
  const gravity = 0.3;
  const bounce = 0.7;
  
  function animate() {
    vy += gravity;
    x += vx;
    y += vy;
    
    // Check peg collisions
    const pegs = document.querySelectorAll('.peg');
    pegs.forEach(peg => {
      const pegX = parseFloat(peg.style.left) + 4;
      const pegY = parseFloat(peg.style.top) + 4;
      const distance = Math.sqrt((x - pegX) ** 2 + (y - pegY) ** 2);
      
      if (distance < 14) {
        const angle = Math.atan2(y - pegY, x - pegX);
        vx = Math.cos(angle) * 3 + (Math.random() - 0.5) * 2;
        vy = Math.abs(vy) * bounce;
        x = pegX + Math.cos(angle) * 14;
        y = pegY + Math.sin(angle) * 14;
      }
    });
    
    // Boundaries
    if (x < 10) { x = 10; vx = Math.abs(vx) * bounce; }
    if (x > boardWidth - 30) { x = boardWidth - 30; vx = -Math.abs(vx) * bounce; }
    
    ball.style.left = `${x}px`;
    ball.style.top = `${y}px`;
    
    if (y < 450) {
      requestAnimationFrame(animate);
    } else {
      // Determine bucket
      const bucketIndex = Math.floor((x - 10) / ((boardWidth - 40) / 9));
      const multipliers = [0.5, 1.2, 2.0, 3.5, 10.0, 3.5, 2.0, 1.2, 0.5];
      const multiplier = multipliers[Math.max(0, Math.min(8, bucketIndex))];
      const winAmount = Math.floor(bet * multiplier);
      
      gameState.balance += winAmount;
      updateBalance();
      
      if (winAmount > bet) {
        logGame(`Plinko WIN! ${multiplier}x - Won ${winAmount}`, 'win');
        showWin(winAmount - bet);
      } else {
        logGame(`Plinko LOSE - Lost ${bet - winAmount}`, 'lose');
      }
      
      setTimeout(() => {
        if (board && board.contains(ball)) {
          board.removeChild(ball);
        }
        gameState.gameInProgress = false;
      }, 1000);
    }
  }
  
  animate();
};

window.startMines = function() {
  const bet = getBetAmount();
  if (!bet) return;
  
  gameState.balance -= bet;
  updateBalance();
  
  // Generate mines
  const mines = [];
  while (mines.length < 5) {
    const pos = Math.floor(Math.random() * 25);
    if (!mines.includes(pos)) mines.push(pos);
  }
  
  gameState.minesData = {
    grid: mines,
    revealed: [],
    gameActive: true,
    bet: bet,
    safeTiles: 0
  };
  
  createMinesGrid();
  logGame(`New mines game started - Bet ${bet}`);
  
  const safeTilesEl = document.getElementById('safeTiles');
  const multiplierEl = document.getElementById('multiplier');
  if (safeTilesEl) safeTilesEl.textContent = '0';
  if (multiplierEl) multiplierEl.textContent = '1.0';
};

window.cashoutMines = function() {
  if (!gameState.minesData || !gameState.minesData.gameActive || gameState.minesData.safeTiles === 0) return;
  
  const multiplier = Math.pow(1.35, gameState.minesData.safeTiles);
  const winAmount = Math.floor(gameState.minesData.bet * multiplier);
  
  gameState.balance += winAmount;
  updateBalance();
  gameState.minesData.gameActive = false;
  
  logGame(`Cashed out! Won ${winAmount} (${multiplier.toFixed(2)}x)`, 'win');
  showWin(winAmount - gameState.minesData.bet);
};

window.dealBlackjack = function() {
  const bet = getBetAmount();
  if (!bet) return;
  
  gameState.balance -= bet;
  updateBalance();
  
  gameState.blackjackData = {
    deck: createDeck(),
    playerCards: [],
    dealerCards: [],
    gameActive: true,
    bet: bet
  };
  
  // Deal initial cards
  gameState.blackjackData.playerCards.push(gameState.blackjackData.deck.pop());
  gameState.blackjackData.dealerCards.push(gameState.blackjackData.deck.pop());
  gameState.blackjackData.playerCards.push(gameState.blackjackData.deck.pop());
  gameState.blackjackData.dealerCards.push(gameState.blackjackData.deck.pop());
  
  renderBlackjackCards();
  logGame(`New blackjack hand dealt - Bet ${bet}`);
  
  // Check for blackjack
  if (calculateScore(gameState.blackjackData.playerCards) === 21) {
    endBlackjack();
  }
};

window.hitBlackjack = function() {
  if (!gameState.blackjackData || !gameState.blackjackData.gameActive) return;
  
  gameState.blackjackData.playerCards.push(gameState.blackjackData.deck.pop());
  renderBlackjackCards();
  
  const playerScore = calculateScore(gameState.blackjackData.playerCards);
  if (playerScore > 21) {
    endBlackjack();
  }
};

window.standBlackjack = function() {
  if (!gameState.blackjackData || !gameState.blackjackData.gameActive) return;
  
  // Dealer draws until 17+
  while (calculateScore(gameState.blackjackData.dealerCards) < 17) {
    gameState.blackjackData.dealerCards.push(gameState.blackjackData.deck.pop());
  }
  
  endBlackjack();
};

window.spinRoulette = function() {
  if (gameState.gameInProgress) return;
  
  const bet = getBetAmount();
  if (!bet) return;
  
  const betType = document.getElementById('rouletteBet').value;
  
  gameState.gameInProgress = true;
  gameState.balance -= bet;
  updateBalance();
  
  const wheel = document.getElementById('rouletteWheel');
  const result = document.getElementById('rouletteResult');
  
  // Spin animation
  const spins = 3 + Math.random() * 3;
  const finalRotation = spins * 360;
  wheel.style.transform = `rotate(${finalRotation}deg)`;
  
  setTimeout(() => {
    const number = Math.floor(Math.random() * 37); // 0-36
    let color = 'green';
    
    if (number > 0) {
      const redNumbers = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];
      color = redNumbers.includes(number) ? 'red' : 'black';
    }
    
    let won = false;
    let multiplier = 0;
    
    switch(betType) {
      case 'red':
        won = color === 'red';
        multiplier = 2;
        break;
      case 'black':
        won = color === 'black';
        multiplier = 2;
        break;
      case 'green':
        won = number === 0;
        multiplier = 36;
        break;
      case 'even':
        won = number > 0 && number % 2 === 0;
        multiplier = 2;
        break;
      case 'odd':
        won = number > 0 && number % 2 === 1;
        multiplier = 2;
        break;
      case '1-18':
        won = number >= 1 && number <= 18;
        multiplier = 2;
        break;
      case '19-36':
        won = number >= 19 && number <= 36;
        multiplier = 2;
        break;
    }
    
    const winAmount = won ? bet * multiplier : 0;
    gameState.balance += winAmount;
    updateBalance();
    
    result.textContent = `Result: ${number} ${color.toUpperCase()}`;
    
    if (won) {
      logGame(`Roulette WIN! ${number} ${color} - Won ${winAmount - bet}`, 'win');
      showWin(winAmount - bet);
    } else {
      logGame(`Roulette LOSE - ${number} ${color} - Lost ${bet}`, 'lose');
    }
    
    gameState.gameInProgress = false;
  }, 3000);
};

window.dealPoker = function() {
  const bet = getBetAmount();
  if (!bet) return;
  
  gameState.balance -= bet;
  updateBalance();
  
  const deck = createDeck();
  gameState.pokerData = {
    hand: deck.slice(0, 5),
    held: [false, false, false, false, false],
    gameActive: true,
    bet: bet
  };
  
  renderPokerHand();
  logGame(`New poker hand dealt - Bet ${bet}`);
};

window.drawPoker = function() {
  if (!gameState.pokerData.gameActive) return;
  
  const deck = createDeck();
  let deckIndex = 0;
  
  // Replace non-held cards
  for (let i = 0; i < 5; i++) {
    if (!gameState.pokerData.held[i]) {
      gameState.pokerData.hand[i] = deck[deckIndex++];
    }
  }
  
  gameState.pokerData.gameActive = false;
  renderPokerHand();
  
  // Evaluate hand
  const handValue = evaluatePokerHand(gameState.pokerData.hand);
  const winAmount = handValue.payout * gameState.pokerData.bet;
  
  gameState.balance += winAmount;
  updateBalance();
  
  const resultEl = document.getElementById('pokerResult');
  if (resultEl) {
    resultEl.textContent = `${handValue.name} - ${winAmount > 0 ? `Won ${winAmount}` : 'No win'}`;
  }
  
  if (winAmount > 0) {
    logGame(`Poker: ${handValue.name} - Won ${winAmount}`, 'win');
    showWin(winAmount);
  } else {
    logGame(`Poker: ${handValue.name} - No win`, 'lose');
  }
};

function loadGame(gameName) {
  switch(gameName) {
    case 'plinko':
      loadPlinko();
      break;
    case 'mines':
      loadMines();
      break;
    case 'blackjack':
      loadBlackjack();
      break;
    case 'roulette':
      loadRoulette();
      break;
    case 'poker':
      loadPoker();
      break;
  }
}

// PLINKO GAME
function loadPlinko() {
  gameArea.innerHTML = `
    <div class="plinko-board" id="plinkoBoard">
      <div style="text-align: center; padding: 20px;">
        <button class="btn" onclick="dropPlinko()" style="font-size: 18px; padding: 16px 32px;">DROP BALL</button>
      </div>
    </div>
  `;
  
  setTimeout(() => {
    const board = document.getElementById('plinkoBoard');
    if (!board) return;
    
    const boardWidth = board.clientWidth;
    
    // Create pegs
    for (let row = 1; row < 12; row++) {
      const pegsInRow = row + 3;
      const spacing = boardWidth / (pegsInRow + 1);
      
      for (let col = 0; col < pegsInRow; col++) {
        const peg = document.createElement('div');
        peg.className = 'peg';
        peg.style.left = `${spacing * (col + 1) - 4}px`;
        peg.style.top = `${80 + row * 35}px`;
        board.appendChild(peg);
      }
    }
    
    // Create buckets
    const buckets = [0.5, 1.2, 2.0, 3.5, 10.0, 3.5, 2.0, 1.2, 0.5];
    buckets.forEach((multiplier, index) => {
      const bucket = document.createElement('div');
      bucket.className = 'bucket';
      bucket.textContent = `${multiplier}x`;
      bucket.style.left = `${(boardWidth / buckets.length) * index + 10}px`;
      bucket.style.backgroundColor = multiplier >= 3.5 ? 'var(--accent)' : 'var(--secondary)';
      board.appendChild(bucket);
    });
  }, 100);
}

function dropPlinko() {
  if (gameState.gameInProgress) return;
  
  const bet = getBetAmount();
  if (!bet) return;
  
  gameState.gameInProgress = true;
  gameState.balance -= bet;
  updateBalance();
  
  const board = document.getElementById('plinkoBoard');
  const boardWidth = board.clientWidth;
  
  const ball = document.createElement('div');
  ball.className = 'ball';
  ball.style.left = `${boardWidth / 2 - 10}px`;
  ball.style.top = '50px';
  board.appendChild(ball);
  
  // Physics simulation
  let x = boardWidth / 2 - 10;
  let y = 50;
  let vx = 0;
  let vy = 0;
  const gravity = 0.3;
  const bounce = 0.7;
  
  function animate() {
    vy += gravity;
    x += vx;
    y += vy;
    
    // Check peg collisions
    const pegs = document.querySelectorAll('.peg');
    pegs.forEach(peg => {
      const pegX = parseFloat(peg.style.left) + 4;
      const pegY = parseFloat(peg.style.top) + 4;
      const distance = Math.sqrt((x - pegX) ** 2 + (y - pegY) ** 2);
      
      if (distance < 14) {
        const angle = Math.atan2(y - pegY, x - pegX);
        vx = Math.cos(angle) * 3 + (Math.random() - 0.5) * 2;
        vy = Math.abs(vy) * bounce;
        x = pegX + Math.cos(angle) * 14;
        y = pegY + Math.sin(angle) * 14;
      }
    });
    
    // Boundaries
    if (x < 10) { x = 10; vx = Math.abs(vx) * bounce; }
    if (x > boardWidth - 30) { x = boardWidth - 30; vx = -Math.abs(vx) * bounce; }
    
    ball.style.left = `${x}px`;
    ball.style.top = `${y}px`;
    
    if (y < 450) {
      requestAnimationFrame(animate);
    } else {
      // Determine bucket
      const bucketIndex = Math.floor((x - 10) / ((boardWidth - 40) / 9));
      const multipliers = [0.5, 1.2, 2.0, 3.5, 10.0, 3.5, 2.0, 1.2, 0.5];
      const multiplier = multipliers[Math.max(0, Math.min(8, bucketIndex))];
      const winAmount = Math.floor(bet * multiplier);
      
      gameState.balance += winAmount;
      updateBalance();
      
      if (winAmount > bet) {
        logGame(`Plinko WIN! ${multiplier}x - Won $${winAmount}`, 'win');
        showWin(winAmount - bet);
      } else {
        logGame(`Plinko LOSE - Lost $${bet - winAmount}`, 'lose');
      }
      
      setTimeout(() => {
        if (board && board.contains(ball)) {
          board.removeChild(ball);
        }
        gameState.gameInProgress = false;
      }, 1000);
    }
  }
  
  animate();
}

// MINES GAME
function loadMines() {
  gameArea.innerHTML = `
    <div style="text-align: center; margin-bottom: 20px;">
      <button class="btn" onclick="startMines()" style="margin-right: 10px;">NEW GAME</button>
      <button class="btn btn-secondary" onclick="cashoutMines()">CASH OUT</button>
    </div>
    <div class="mines-grid" id="minesGrid"></div>
    <div style="text-align: center; margin-top: 20px; color: var(--text);">
      <div>Mines: 5 | Safe tiles: <span id="safeTiles">0</span> | Multiplier: <span id="multiplier">1.0</span>x</div>
    </div>
  `;
  
  gameState.minesData = {
    grid: [],
    revealed: [],
    gameActive: false,
    bet: 0,
    safeTiles: 0
  };
  
  createMinesGrid();
}

function createMinesGrid() {
  const grid = document.getElementById('minesGrid');
  if (!grid) return;
  
  grid.innerHTML = '';
  
  for (let i = 0; i < 25; i++) {
    const cell = document.createElement('div');
    cell.className = 'mine-cell';
    cell.textContent = '?';
    cell.addEventListener('click', () => revealMine(i));
    grid.appendChild(cell);
  }
}

function startMines() {
  const bet = getBetAmount();
  if (!bet) return;
  
  gameState.balance -= bet;
  updateBalance();
  
  // Generate mines
  const mines = [];
  while (mines.length < 5) {
    const pos = Math.floor(Math.random() * 25);
    if (!mines.includes(pos)) mines.push(pos);
  }
  
  gameState.minesData = {
    grid: mines,
    revealed: [],
    gameActive: true,
    bet: bet,
    safeTiles: 0
  };
  
  createMinesGrid();
  logGame(`New mines game started - Bet $${bet}`);
  
  const safeTilesEl = document.getElementById('safeTiles');
  const multiplierEl = document.getElementById('multiplier');
  if (safeTilesEl) safeTilesEl.textContent = '0';
  if (multiplierEl) multiplierEl.textContent = '1.0';
}

function revealMine(index) {
  if (!gameState.minesData || !gameState.minesData.gameActive || gameState.minesData.revealed.includes(index)) return;
  
  const cell = document.querySelectorAll('.mine-cell')[index];
  gameState.minesData.revealed.push(index);
  cell.classList.add('revealed');
  
  if (gameState.minesData.grid.includes(index)) {
    // Hit mine
    cell.classList.add('mine');
    cell.textContent = '';
    gameState.minesData.gameActive = false;
    
    // Reveal all mines
    gameState.minesData.grid.forEach(minePos => {
      if (minePos !== index) {
        const mineCell = document.querySelectorAll('.mine-cell')[minePos];
        mineCell.classList.add('mine', 'revealed');
        mineCell.textContent = '';
      }
    });
    
    logGame(`BOOM! Hit a mine - Lost ${gameState.minesData.bet}`, 'lose');
  } else {
    // Safe tile
    cell.classList.add('safe');
    cell.textContent = '';
    gameState.minesData.safeTiles++;
    
    const multiplier = Math.pow(1.35, gameState.minesData.safeTiles);
    const safeTilesEl = document.getElementById('safeTiles');
    const multiplierEl = document.getElementById('multiplier');
    
    if (safeTilesEl) safeTilesEl.textContent = gameState.minesData.safeTiles;
    if (multiplierEl) multiplierEl.textContent = multiplier.toFixed(2);
    
    logGame(`Safe tile! Multiplier: ${multiplier.toFixed(2)}x`);
  }
}

function cashoutMines() {
  if (!gameState.minesData || !gameState.minesData.gameActive || gameState.minesData.safeTiles === 0) return;
  
  const multiplier = Math.pow(1.35, gameState.minesData.safeTiles);
  const winAmount = Math.floor(gameState.minesData.bet * multiplier);
  
  gameState.balance += winAmount;
  updateBalance();
  gameState.minesData.gameActive = false;
  
  logGame(`Cashed out! Won ${winAmount} (${multiplier.toFixed(2)}x)`, 'win');
  showWin(winAmount - gameState.minesData.bet);
}

// BLACKJACK GAME
function loadBlackjack() {
  gameArea.innerHTML = `
    <div style="margin-bottom: 20px;">
      <h4 style="color: var(--text-bright); margin-bottom: 10px;">Dealer</h4>
      <div class="card-row" id="dealerCards"></div>
      <div id="dealerScore" style="color: var(--text); margin-top: 5px;">Score: 0</div>
    </div>
    
    <div style="margin-bottom: 20px;">
      <h4 style="color: var(--text-bright); margin-bottom: 10px;">Your Hand</h4>
      <div class="card-row" id="playerCards"></div>
      <div id="playerScore" style="color: var(--text); margin-top: 5px;">Score: 0</div>
    </div>
    
    <div style="text-align: center;">
      <button class="btn" onclick="dealBlackjack()" style="margin-right: 10px;">DEAL</button>
      <button class="btn btn-secondary" onclick="hitBlackjack()" style="margin-right: 10px;">HIT</button>
      <button class="btn btn-secondary" onclick="standBlackjack()">STAND</button>
    </div>
  `;
  
  gameState.blackjackData = {
    deck: [],
    playerCards: [],
    dealerCards: [],
    gameActive: false,
    bet: 0
  };
}

function createDeck() {
  const suits = ['‚ô†', '‚ô•', '‚ô¶', '‚ô£'];
  const ranks = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
  const deck = [];
  
  for (const suit of suits) {
    for (const rank of ranks) {
      deck.push({ suit, rank });
    }
  }
  
  // Shuffle
  for (let i = deck.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [deck[i], deck[j]] = [deck[j], deck[i]];
  }
  
  return deck;
}

function createCard(card) {
  const cardEl = document.createElement('div');
  cardEl.className = 'card';
  
  if (['J', 'Q', 'K'].includes(card.rank)) {
    const img = document.createElement('img');
    if (card.rank === 'J') img.src = 'jack.png';
    if (card.rank === 'Q') img.src = 'queen.png';
    if (card.rank === 'K') img.src = 'king.png';
    cardEl.appendChild(img);
  } else {
    cardEl.textContent = card.rank + card.suit;
  }
  
  return cardEl;
}

function calculateScore(cards) {
  let score = 0;
  let aces = 0;
  
  cards.forEach(card => {
    if (card.rank === 'A') {
      score += 11;
      aces++;
    } else if (['K', 'Q', 'J'].includes(card.rank)) {
      score += 10;
    } else {
      score += parseInt(card.rank);
    }
  });
  
  while (score > 21 && aces > 0) {
    score -= 10;
    aces--;
  }
  
  return score;
}

function dealBlackjack() {
  const bet = getBetAmount();
  if (!bet) return;
  
  gameState.balance -= bet;
  updateBalance();
  
  gameState.blackjackData = {
    deck: createDeck(),
    playerCards: [],
    dealerCards: [],
    gameActive: true,
    bet: bet
  };
  
  // Deal initial cards
  gameState.blackjackData.playerCards.push(gameState.blackjackData.deck.pop());
  gameState.blackjackData.dealerCards.push(gameState.blackjackData.deck.pop());
  gameState.blackjackData.playerCards.push(gameState.blackjackData.deck.pop());
  gameState.blackjackData.dealerCards.push(gameState.blackjackData.deck.pop());
  
  renderBlackjackCards();
  logGame(`New blackjack hand dealt - Bet ${bet}`);
  
  // Check for blackjack
  if (calculateScore(gameState.blackjackData.playerCards) === 21) {
    endBlackjack();
  }
}

function hitBlackjack() {
  if (!gameState.blackjackData || !gameState.blackjackData.gameActive) return;
  
  gameState.blackjackData.playerCards.push(gameState.blackjackData.deck.pop());
  renderBlackjackCards();
  
  const playerScore = calculateScore(gameState.blackjackData.playerCards);
  if (playerScore > 21) {
    endBlackjack();
  }
}

function standBlackjack() {
  if (!gameState.blackjackData || !gameState.blackjackData.gameActive) return;
  
  // Dealer draws until 17+
  while (calculateScore(gameState.blackjackData.dealerCards) < 17) {
    gameState.blackjackData.dealerCards.push(gameState.blackjackData.deck.pop());
  }
  
  endBlackjack();
}

function renderBlackjackCards() {
  const dealerCardsEl = document.getElementById('dealerCards');
  const playerCardsEl = document.getElementById('playerCards');
  const dealerScoreEl = document.getElementById('dealerScore');
  const playerScoreEl = document.getElementById('playerScore');
  
  if (!dealerCardsEl || !playerCardsEl || !dealerScoreEl || !playerScoreEl) return;
  
  dealerCardsEl.innerHTML = '';
  playerCardsEl.innerHTML = '';
  
  // Show dealer cards (hide second card if game is active)
  gameState.blackjackData.dealerCards.forEach((card, index) => {
    if (index === 1 && gameState.blackjackData.gameActive) {
      const hiddenCard = document.createElement('div');
      hiddenCard.className = 'card';
      hiddenCard.textContent = '?';
      hiddenCard.style.background = 'var(--secondary)';
      dealerCardsEl.appendChild(hiddenCard);
    } else {
      dealerCardsEl.appendChild(createCard(card));
    }
  });
  
  // Show player cards
  gameState.blackjackData.playerCards.forEach(card => {
    playerCardsEl.appendChild(createCard(card));
  });
  
  // Update scores
  const playerScore = calculateScore(gameState.blackjackData.playerCards);
  playerScoreEl.textContent = `Score: ${playerScore}`;
  
  if (gameState.blackjackData.gameActive) {
    dealerScoreEl.textContent = `Score: ${calculateScore([gameState.blackjackData.dealerCards[0]])}+`;
  } else {
    dealerScoreEl.textContent = `Score: ${calculateScore(gameState.blackjackData.dealerCards)}`;
  }
}

function endBlackjack() {
  gameState.blackjackData.gameActive = false;
  renderBlackjackCards();
  
  const playerScore = calculateScore(gameState.blackjackData.playerCards);
  const dealerScore = calculateScore(gameState.blackjackData.dealerCards);
  const bet = gameState.blackjackData.bet;
  
  let result = '';
  let winAmount = 0;
  
  if (playerScore > 21) {
    result = 'BUST! You lose';
    winAmount = 0;
  } else if (dealerScore > 21) {
    result = 'Dealer BUST! You win';
    winAmount = bet * 2;
  } else if (playerScore > dealerScore) {
    result = 'You win!';
    winAmount = bet * 2;
  } else if (dealerScore > playerScore) {
    result = 'Dealer wins';
    winAmount = 0;
  } else {
    result = 'Push (tie)';
    winAmount = bet;
  }
  
  gameState.balance += winAmount;
  updateBalance();
  
  if (winAmount > bet) {
    logGame(`Blackjack: ${result} - Won ${winAmount - bet}`, 'win');
    showWin(winAmount - bet);
  } else if (winAmount === bet) {
    logGame(`Blackjack: ${result} - Push`);
  } else {
    logGame(`Blackjack: ${result} - Lost ${bet}`, 'lose');
  }
}

// ROULETTE GAME
function loadRoulette() {
  gameArea.innerHTML = `
    <div style="text-align: center;">
      <div style="width: 200px; height: 200px; margin: 20px auto; position: relative; border-radius: 50%; background: conic-gradient(from 0deg, var(--danger) 0deg 20deg, var(--bg) 20deg 40deg, var(--accent) 40deg 60deg, var(--bg) 60deg 80deg, var(--danger) 80deg 100deg, var(--bg) 100deg 120deg, var(--accent) 120deg 140deg, var(--bg) 140deg 160deg, var(--danger) 160deg 180deg, var(--bg) 180deg 200deg, var(--accent) 200deg 220deg, var(--bg) 220deg 240deg, var(--danger) 240deg 260deg, var(--bg) 260deg 280deg, var(--accent) 280deg 300deg, var(--bg) 300deg 320deg, var(--danger) 320deg 340deg, var(--bg) 340deg 360deg); border: 4px solid var(--accent); transition: transform 3s cubic-bezier(0.25, 0.46, 0.45, 0.94); box-shadow: 0 0 30px rgba(0, 231, 1, 0.3);" id="rouletteWheel">
        <div style="position: absolute; top: 10px; left: 50%; transform: translateX(-50%); width: 12px; height: 12px; background: white; border-radius: 50%; box-shadow: 0 0 10px white;"></div>
      </div>
      
      <div style="margin: 20px 0;">
        <select id="rouletteBet" style="padding: 10px; margin-right: 10px; border-radius: 6px; border: 2px solid var(--border); background: var(--secondary); color: var(--text-bright);">
          <option value="red">Red</option>
          <option value="black">Black</option>
          <option value="green">Green (0)</option>
          <option value="even">Even</option>
          <option value="odd">Odd</option>
          <option value="1-18">1-18</option>
          <option value="19-36">19-36</option>
        </select>
        <button class="btn" onclick="spinRoulette()">SPIN</button>
      </div>
      
      <div id="rouletteResult" style="color: var(--text-bright); font-size: 18px; margin-top: 20px;"></div>
    </div>
  `;
}

function spinRoulette() {
  if (gameState.gameInProgress) return;
  
  const bet = getBetAmount();
  if (!bet) return;
  
  const betType = document.getElementById('rouletteBet').value;
  
  gameState.gameInProgress = true;
  gameState.balance -= bet;
  updateBalance();
  
  const wheel = document.getElementById('rouletteWheel');
  const result = document.getElementById('rouletteResult');
  
  // Spin animation
  const spins = 3 + Math.random() * 3;
  const finalRotation = spins * 360;
  wheel.style.transform = `rotate(${finalRotation}deg)`;
  
  setTimeout(() => {
    const number = Math.floor(Math.random() * 37); // 0-36
    let color = 'green';
    
    if (number > 0) {
      const redNumbers = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];
      color = redNumbers.includes(number) ? 'red' : 'black';
    }
    
    let won = false;
    let multiplier = 0;
    
    switch(betType) {
      case 'red':
        won = color === 'red';
        multiplier = 2;
        break;
      case 'black':
        won = color === 'black';
        multiplier = 2;
        break;
      case 'green':
        won = number === 0;
        multiplier = 36;
        break;
      case 'even':
        won = number > 0 && number % 2 === 0;
        multiplier = 2;
        break;
      case 'odd':
        won = number > 0 && number % 2 === 1;
        multiplier = 2;
        break;
      case '1-18':
        won = number >= 1 && number <= 18;
        multiplier = 2;
        break;
      case '19-36':
        won = number >= 19 && number <= 36;
        multiplier = 2;
        break;
    }
    
    const winAmount = won ? bet * multiplier : 0;
    gameState.balance += winAmount;
    updateBalance();
    
    result.textContent = `Result: ${number} ${color.toUpperCase()}`;
    
    if (won) {
      logGame(`Roulette WIN! ${number} ${color} - Won ${winAmount - bet}`, 'win');
      showWin(winAmount - bet);
    } else {
      logGame(`Roulette LOSE - ${number} ${color} - Lost ${bet}`, 'lose');
    }
    
    gameState.gameInProgress = false;
  }, 3000);
}

// POKER GAME
function loadPoker() {
  gameArea.innerHTML = `
    <div style="text-align: center;">
      <h4 style="color: var(--text-bright); margin-bottom: 15px;">5-Card Draw Poker</h4>
      
      <div class="card-row" id="pokerHand" style="justify-content: center; margin: 20px 0;"></div>
      
      <div style="margin: 20px 0;">
        <button class="btn" onclick="dealPoker()" style="margin-right: 10px;">DEAL</button>
        <button class="btn btn-secondary" onclick="drawPoker()">DRAW</button>
      </div>
      
      <div id="pokerResult" style="color: var(--text-bright); font-size: 16px; margin-top: 20px;"></div>
      
      <div style="margin-top: 15px; color: var(--text); font-size: 14px;">
        Click cards to hold them before drawing
      </div>
    </div>
  `;
  
  gameState.pokerData = {
    hand: [],
    held: [],
    gameActive: false,
    bet: 0
  };
}

function dealPoker() {
  const bet = getBetAmount();
  if (!bet) return;
  
  gameState.balance -= bet;
  updateBalance();
  
  const deck = createDeck();
  gameState.pokerData = {
    hand: deck.slice(0, 5),
    held: [false, false, false, false, false],
    gameActive: true,
    bet: bet
  };
  
  renderPokerHand();
  logGame(`New poker hand dealt - Bet ${bet}`);
}

function renderPokerHand() {
  const handEl = document.getElementById('pokerHand');
  if (!handEl) return;
  
  handEl.innerHTML = '';
  
  gameState.pokerData.hand.forEach((card, index) => {
    const cardEl = createCard(card);
    cardEl.addEventListener('click', () => toggleHold(index));
    
    if (gameState.pokerData.held[index]) {
      cardEl.style.border = '3px solid var(--accent)';
      cardEl.style.boxShadow = '0 0 15px var(--accent)';
    }
    
    handEl.appendChild(cardEl);
  });
}

function toggleHold(index) {
  if (!gameState.pokerData.gameActive) return;
  
  gameState.pokerData.held[index] = !gameState.pokerData.held[index];
  renderPokerHand();
}

function drawPoker() {
  if (!gameState.pokerData.gameActive) return;
  
  const deck = createDeck();
  let deckIndex = 0;
  
  // Replace non-held cards
  for (let i = 0; i < 5; i++) {
    if (!gameState.pokerData.held[i]) {
      gameState.pokerData.hand[i] = deck[deckIndex++];
    }
  }
  
  gameState.pokerData.gameActive = false;
  renderPokerHand();
  
  // Evaluate hand
  const handValue = evaluatePokerHand(gameState.pokerData.hand);
  const winAmount = handValue.payout * gameState.pokerData.bet;
  
  gameState.balance += winAmount;
  updateBalance();
  
  const resultEl = document.getElementById('pokerResult');
  if (resultEl) {
    resultEl.textContent = `${handValue.name} - ${winAmount > 0 ? `Won ${winAmount}` : 'No win'}`;
  }
  
  if (winAmount > 0) {
    logGame(`Poker: ${handValue.name} - Won ${winAmount}`, 'win');
    showWin(winAmount);
  } else {
    logGame(`Poker: ${handValue.name} - No win`, 'lose');
  }
}

function evaluatePokerHand(hand) {
  const ranks = hand.map(card => {
    if (card.rank === 'A') return 14;
    if (card.rank === 'K') return 13;
    if (card.rank === 'Q') return 12;
    if (card.rank === 'J') return 11;
    return parseInt(card.rank);
  }).sort((a, b) => b - a);
  
  const suits = hand.map(card => card.suit);
  const isFlush = suits.every(suit => suit === suits[0]);
  const isStraight = ranks[0] - ranks[4] === 4 && new Set(ranks).size === 5;
  
  const rankCounts = {};
  ranks.forEach(rank => rankCounts[rank] = (rankCounts[rank] || 0) + 1);
  const counts = Object.values(rankCounts).sort((a, b) => b - a);
  
  // Royal flush
  if (isFlush && isStraight && ranks[0] === 14) {
    return { name: 'Royal Flush', payout: 250 };
  }
  
  // Straight flush
  if (isFlush && isStraight) {
    return { name: 'Straight Flush', payout: 50 };
  }
  
  // Four of a kind
  if (counts[0] === 4) {
    return { name: 'Four of a Kind', payout: 25 };
  }
  
  // Full house
  if (counts[0] === 3 && counts[1] === 2) {
    return { name: 'Full House', payout: 9 };
  }
  
  // Flush
  if (isFlush) {
    return { name: 'Flush', payout: 6 };
  }
  
  // Straight
  if (isStraight) {
    return { name: 'Straight', payout: 4 };
  }
  
  // Three of a kind
  if (counts[0] === 3) {
    return { name: 'Three of a Kind', payout: 3 };
  }
  
  // Two pair
  if (counts[0] === 2 && counts[1] === 2) {
    return { name: 'Two Pair', payout: 2 };
  }
  
  // Jacks or better
  if (counts[0] === 2) {
    const pairRank = Object.keys(rankCounts).find(rank => rankCounts[rank] === 2);
    if (parseInt(pairRank) >= 11) {
      return { name: 'Jacks or Better', payout: 1 };
    }
  }
  
  return { name: 'No Pair', payout: 0 };
}

// Initialize
updateBalance();
